<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<style>
    /* ---- ESTILO GLOBAL ---- */
    body {
        background: #f4f6f9;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* ---- CARD PRINCIPAL ---- */
    .card {
        border: none;
        border-radius: 15px;
        transition: .3s;
    }

    .card:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    /* ---- TITULO ---- */
    .card-header {
        border-radius: 15px 15px 0 0 !important;
        background: linear-gradient(90deg, #0d6832, #158f4a);
        padding: 15px 20px;
    }

    h4 {
        font-weight: 600;
        letter-spacing: .5px;
    }

    /* ---- INPUTS ---- */
    .form-control,
    .form-select {
        border-radius: 10px;
        transition: .2s;
    }

    .form-control:focus,
    .form-select:focus {
        border-color: #0d6832;
        box-shadow: 0 0 8px rgba(13, 104, 50, 0.4);
    }

    /* ---- BOTÕES ---- */
    .btn {
        border-radius: 10px;
        transition: .25s;
    }

    .btn-success:hover {
        background: #0a5629;
        transform: scale(1.05);
    }

    .btn-secondary:hover {
        transform: scale(1.05);
    }

    /* ---- TABELA ---- */
    table {
        background: #fff;
        border-radius: 12px;
        overflow: hidden;
        overflow: hidden;
    }

    thead {
        background: linear-gradient(90deg, #0d6832, #158f4a) !important;
    }

    .table-hover tbody tr:hover {
        background-color: #e9f7ef !important;
        cursor: pointer;
    }

    /* ---- BADGES ---- */
    .badge {
        padding: 8px 12px;
        font-size: 0.9rem;
        border-radius: 8px;
    }
</style>

<!-- ======================================================= -->
<!-- FORMULÁRIO + TABELA LADO A LADO -->
<!-- ======================================================= -->

<div class="p-5 mt-4">
    <div class="row g-4">

        <!-- ==================== COLUNA ESQUERDA - FORM ==================== -->
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header text-white d-flex align-items-center">
                    <i class="bi bi-person-fill fs-3 me-2"></i>
                    <h4 class="mb-0">Novo Pedido</h4>
                </div>

                <div class="card-body">

                    <form asp-action="SalvarPedido" asp-controller="Pedido">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Cliente solicitante</label>
                                <select class="form-select" name="ClienteId">
                                    <option selected>Selecione...</option>

                                    @if (ViewBag.ListaClientes != null && ViewBag.ListaClientes.Count > 0)
                                    {
                                        @foreach (Cliente cliente in ViewBag.ListaClientes)
                                        {
                                            <option value="@cliente.Id">@cliente.Razaosocial</option>
                                        }

                                    }
                                </select>
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Código pedido</label>
                                <input type="text" class="form-control">
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Produtos(o)</label>
                                <select class="form-select" name="ProdutoId">
                                    <option selected>Selecione...</option>
                                    @if (ViewBag.ListaProdutos != null && ViewBag.ListaProdutos.Count > 0)
                                    {
                                        @foreach (Produto produto in ViewBag.ListaProdutos)
                                        {
                                            <option value="@produto.Id">@produto.Nomeproduto</option>
                                        }

                                    }
                                </select>
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Quantidade</label>
                                <input type="number" class="form-control" name="Quantidade">
                            </div>
                        </div>


                        <button class="btn btn-success" type="submit">Realizar pedido</button>
                    </form>

                </div>
            </div>
        </div>

        <!-- ==================== COLUNA DIREITA - TABELA ==================== -->
        <div class="col-md-6">
            <div class="card shadow-lg border-0" style="border-radius: 15px;">
                <div class="card-header text-white">
                    <h4 class="mb-0"><i class="bi bi-list-check me-2"></i>Lista de Pedidos</h4>
                </div>

                <div class="table-responsive" style="max-height: 600px; overflow-y: auto;">
                    <table class="table table-hover table-striped align-middle text-center" style="font-size: 1.05rem;">
                        <thead class="text-white">
                            <tr>
                                <th>ID</th>
                                <th>Cliente</th>
                                <th>Data</th>
                                <th>Valor</th>
                                <th>Status</th>
                            </tr>
                        </thead>

                        <tbody>
                            @if(ViewBag.ListaPedidos != null && ViewBag.ListaPedidos.Count > 0)
                            {
                                @foreach(Pedido pedido in ViewBag.ListaPedidos)
                                {
                                    <tr>
                                        <td>@pedido.Id</td>
                                        <td>@pedido.Cliente.Razaosocial</td>
                                        <td>@pedido.DataPedido?.ToString("dd/MM/yyyy")</td>
                                        <td>R$ @pedido.Valor</td>
                                        <td>
                                            @if(pedido.Status == "F")
                                            {
                                                <span class="badge bg-primary">Feito</span>
                                            }else if(pedido.Status == "V")
                                            {
                                                <span class="badge bg-warning">Validado</span>
                                            }else{
                                                <span class="badge bg-success">Concluido</span>
                                            }
                                        </td>
                                    </tr>
                                }
                            }
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
</div>